<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WeatherSphere | Global Weather Forecast</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Theme Toggle -->
        <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode">
            <i class="fas fa-moon"></i>
        </button>

        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1 class="app-title">WeatherSphere</h1>
                <div class="search-container">
                    <input type="text" id="city-search" placeholder="Search city..." autocomplete="off">
                    <div id="search-results" class="search-results"></div>
                    <button id="geolocation-btn" aria-label="Use current location">
                        <i class="fas fa-location-arrow"></i>
                    </button>
                </div>
            </div>

            <div class="current-weather">
                <div class="location-info">
                    <h2 id="current-city">Loading...</h2>
                    <p id="current-date" class="date"></p>
                </div>
                <div class="weather-main">
                    <div class="temperature">
                        <span id="current-temp">--</span>
                        <div class="temp-unit-toggle">
                            <button class="active" data-unit="c">°C</button>
                            <button data-unit="f">°F</button>
                        </div>
                    </div>
                    <div id="weather-icon" class="weather-icon">
                        <img src="" alt="Weather condition" loading="lazy">
                    </div>
                </div>
                <p id="weather-description" class="weather-description">--</p>
                <div class="sun-times">
                    <div class="sun-time">
                        <i class="fas fa-sunrise"></i>
                        <span id="sunrise-time">--:--</span>
                    </div>
                    <div class="sun-time">
                        <i class="fas fa-sunset"></i>
                        <span id="sunset-time">--:--</span>
                    </div>
                </div>
            </div>

            <div class="weather-details">
                <div class="detail-item">
                    <i class="fas fa-tint"></i>
                    <div>
                        <p>Humidity</p>
                        <p id="humidity">--%</p>
                    </div>
                </div>
                <div class="detail-item">
                    <i class="fas fa-wind"></i>
                    <div>
                        <p>Wind Speed</p>
                        <p id="wind-speed">-- km/h</p>
                    </div>
                </div>
                <div class="detail-item">
                    <i class="fas fa-sun"></i>
                    <div>
                        <p>UV Index</p>
                        <p id="uv-index">--</p>
                    </div>
                </div>
                <div class="detail-item">
                    <i class="fas fa-cloud-rain"></i>
                    <div>
                        <p>Rainfall</p>
                        <p id="rainfall">-- mm</p>
                    </div>
                </div>
                <div class="detail-item">
                    <i class="fas fa-tachometer-alt"></i>
                    <div>
                        <p>Pressure</p>
                        <p id="pressure">-- hPa</p>
                    </div>
                </div>
                <div class="detail-item">
                    <i class="fas fa-eye"></i>
                    <div>
                        <p>Visibility</p>
                        <p id="visibility">-- km</p>
                    </div>
                </div>
            </div>

            <div class="global-cities">
                <h3>World Forecast</h3>
                <div class="city-list">
                    <!-- Filled dynamically by JavaScript -->
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="map-container">
                <div id="weather-map"></div>
            </div>

            <div class="hourly-forecast">
                <h3>
                    <button id="hourly-tab" class="forecast-tab active">Hourly Forecast</button>
                    <button id="daily-tab" class="forecast-tab">Daily Forecast</button>
                </h3>
                <div id="hourly-section" class="forecast-section">
                    <div class="hourly-scroll">
                        <!-- Filled dynamically by JavaScript -->
                    </div>
                </div>
                <div id="daily-section" class="forecast-section" style="display:none;">
                    <div class="daily-scroll">
                        <!-- Filled dynamically by JavaScript -->
                    </div>
                </div>
            </div>

            <div class="additional-info">
                <div class="info-card">
                    <h4>UV Index</h4>
                    <div class="uv-meter">
                        <div class="uv-level low"></div>
                        <div class="uv-level moderate"></div>
                        <div class="uv-level high"></div>
                        <div class="uv-level very-high"></div>
                        <div class="uv-level extreme"></div>
                        <div class="uv-indicator" style="left: 30%;"></div>
                    </div>
                    <p class="uv-advice">Moderate risk of harm from unprotected sun exposure.</p>
                </div>

                <div class="info-card">
                    <h4>Air Quality</h4>
                    <div class="aqi-meter">
                        <div class="aqi-level good"></div>
                        <div class="aqi-level moderate"></div>
                        <div class="aqi-level unhealthy-sensitive"></div>
                        <div class="aqi-level unhealthy"></div>
                        <div class="aqi-level very-unhealthy"></div>
                        <div class="aqi-level hazardous"></div>
                        <div class="aqi-indicator" style="left: 20%;"></div>
                    </div>
                    <p class="aqi-value">AQI: -- (Good)</p>
                    <p class="aqi-advice">Air quality is satisfactory, and air pollution poses little or no risk.</p>
                </div>

                <div class="info-card historical-comparison">
                    <h4>Historical Comparison</h4>
                    <div class="comparison-chart">
                        <div class="comparison-bar today">
                            <span>Today<br>--°</span>
                        </div>
                        <div class="comparison-bar yesterday">
                            <span>Yesterday<br>--°</span>
                        </div>
                    </div>
                    <p>Loading comparison data...</p>
                </div>
            </div>
        </main>

        <!-- Loading Overlay -->
        <div class="loading-overlay">
            <div class="weather-loader">
                <div class="loader-cloud"></div>
                <div class="loader-sun"></div>
                <div class="loader-rain"></div>
            </div>
            <p class="loading-text">Loading weather data...</p>
        </div>
    </div>

    <!-- Detailed Forecast Overlay -->
    <div class="detailed-forecast-overlay" style="display: none;">
        <div class="detailed-forecast">
            <button class="close-btn">&times;</button>
            <div class="forecast-details">
                <div class="main-weather">
                    <h3 class="forecast-time">--</h3>
                    <div class="large-icon">
                        <i class=""></i>
                    </div>
                    <div class="temp-container">
                        <div class="temp">--°</div>
                        <div class="feels-like">Feels like: --°</div>
                    </div>
                </div>
                <div class="weather-info-grid">
                    <!-- Weather details will be populated dynamically -->
                </div>
            </div>
        </div>
    </div>

    <!-- Weather Background Elements -->
    <div class="weather-background"></div>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="app.js"></script>
</body>
</html>